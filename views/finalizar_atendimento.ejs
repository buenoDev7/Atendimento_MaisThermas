<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Dados de Agendamento</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" href="/css/finalizar_atendimento.css">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chau+Philomene+One:ital@0;1&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@100..800&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.png" type="image/x-icon">
    <!-- Script JS -->
    <script src="/js/finalizar_atendimento.js"></script>
</head>

<body>
    <div class="container">
        <div class="row text-center">
            <p class="mb-2 mt-5">
                <img src="/img/maisThermas.png" class="maisThermas-header">
            </p>
            <h2 class="ff-philomene yellow display-6 mt-2 ">Finalizar atendimento -
                <%= atendimento.nomeCliente.split(' ')[0] %> e <%= atendimento.conjuge.split(' ')[0]%>
            </h2>
        </div>
        <!-- Form de cadastro de dados para finalizar o atendimento -->
        <a href="/ficha/<%= atendimento.id %>" class="p-0 btn mt-1 link-ficha"
            data-bs-toggle="tooltip" data-bs-placement="bottom"
            data-bs-title="Voltar para a ficha">
            <i class="bi bi-arrow-left fs-3 text-white"></i>
        </a>
        <div class="row justify-content-center mt-3">
            <div class="col-10">
                <form onsubmit="return exibirToast(event)" action="/finalizar_atendimento" method="post" class="form-control form-control-sm rounded-2 form-style px-4 py-3">
                    <!-- inputs ocultos de id, data de nascimento e idade do cliente e acompanhante -->
                        <input type="hidden" name="idAtendimento" id="idAtendimento" value="<%= atendimento.id %>">
                        <input type="hidden" name="dataNasc1" id="dataNasc1" class="form-control form-control-sm rounded-2 bg-transparent text-white" value="<%= atendimento.dataNasc1 %>">
                        <input type="hidden" name="idadeCliente" id="idadeCliente" class="form-control form-control-sm rounded-2 bg-transparent text-white">
                        <input type="hidden" name="dataNasc2" id="dataNasc2" class="form-control form-control-sm rounded-2 bg-transparent text-white" value="<%= atendimento.dataNasc2 %>">
                        <input type="hidden" name="idadeAcompanhante" id="idadeAcompanhante" class="form-control form-control-sm rounded-2 bg-transparent text-white">
                        <!-- inputs de id, data de nascimento e idade do cliente e acompanhante -->
                    <!-- Linha 1 -->
                    <div class="row">
                        <!-- Data -->
                        <div class="col-6 col-lg-2">
                            <label for="dataAtendimento" class="form-label fs-6 fw-semibold mb-1 mt-2">Data:</label>
                            <input type="date" class="form-control form-control-sm rounded-2 bg-transparent text-white" name="dataAtendimento" required>
                        </div>
                        <!-- Produto -->
                        <div class="col-6 col-lg-3">
                            <label for="produto" class="form-label fs-6 fw-semibold mb-1 mt-2">Produto:</label>
                            <input list="lista_produtos" name="produto" id="produto" class="form-control form-control-sm rounded-2 bg-transparent text-white" required autocomplete="off">
                            <datalist id="lista_produtos" class="text-white">
                                <option value="-">
                                <option value="MAIS 1">
                                <option value="MAIS 3">
                                <option value="MAIS 5">
                                <option value="MAIS 3H">
                                <option value="MAIS 5H">
                            </datalist>
                        </div>
                        <!-- Nº do Titulo -->
                        <div class="col-6 col-lg-3">
                            <label for="numeroContrato" class="form-label fs-6 fw-semibold mb-1 mt-2">Titulo:</label>
                            <input type="number" class="form-control form-control-sm rounded-2 bg-transparent text-white" name="numeroContrato"  autocomplete="off"
                            required autocomplete="off">
                        </div>
                        <!-- Gênero do Cliente -->
                        <div class="col-6 col-lg-3">
                            <label for="generoCliente" class="form-label fs-6 fw-semibold mb-1 mt-2">Gên. do Cliente:</label>
                            <input list="generoCliente" name="generoCliente" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="generoCliente" class="text-white">
                                <option value="Feminino">
                                <option value="Masculino">
                                <option value="Outro(a)">
                            </datalist>
                        </div>
                        <!-- Gênero do Acompanhante -->
                        <div class="col-6 col-lg-3 mt-md-2">
                            <label for="generoAcompanhante" class="form-label fs-6 fw-semibold mb-1 mt-2">Gênero do Acomp.:</label>
                            <input list="generoAcompanhante" name="generoAcompanhante" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="generoAcompanhante" class="text-white">
                                <option value="Feminino">
                                <option value="Masculino">
                                <option value="Outro(a)">
                            </datalist>
                        </div>
                        <!-- Qualificação -->
                        <div class="col-6 col-lg-3">
                            <label for="qualificacao" class="form-label fs-6 fw-semibold mb-1 mt-3">Qualificação:</label>
                            <input list="qualificacao" name="qualificacao" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="qualificacao" class="text-white">
                                <option value="Q">
                                <option value="NQ">
                                <option value="Indefinido">
                            </datalist>
                        </div>
                        <!-- Já Visitou o Thermas? -->
                        <div class="col-6 col-lg-3">
                            <label for="jaVisitou" class="form-label fs-6 fw-semibold mb-1 mt-3">Já visitou?</label>
                            <input list="jaVisitou" name="jaVisitou" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="jaVisitou" class="text-white">
                                <option value="Sim">
                                <option value="Não">
                            </datalist>
                        </div>
                        <!-- Motivo NQ -->
                        <div class="col-6 col-lg-3">
                            <label for="motivoNQ" class="form-label fs-6 fw-semibold mb-1 mt-3">Motivo NQ:</label>
                            <input list="motivoNQ" name="motivoNQ" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="motivoNQ" class="text-white">
                                <option value="-">
                                <option value="Desempregados">
                                <option value="Distância (+200km)">
                                <option value="Sem cartão">
                                <option value="Sem cônjuge">
                                <option value="Solteiro(a) sem filhos">
                            </datalist>
                        </div>
                        <!-- Motivo de não-compra -->
                        <div class="col-6 col-lg-3">
                            <label for="NC" class="form-label fs-6 fw-semibold mb-1 mt-2">NC:</label>
                            <input list="NC" name="NC" class="form-control form-control-sm rounded-2 bg-transparent text-white " required autocomplete="off">
                            <datalist id="NC" class="text-white">
                                <option value="-">
                                <option value="Cliente Guarany">
                                <option value="Conhecer Cota Guarany">
                                <option value="Conhecer o parque">
                                <option value="Consultor">
                                <option value="Conversar com Familiares">
                                <option value="Custo Benefício">
                                <option value="Desistiu">
                                <option value="Financeiro">
                                <option value="Forma de pagamento">
                                <option value="No-Tour">
                                <option value="Não compra na hora">
                                <option value="Sem interesse">
                                <option value="Utilização">
                            </datalist>

                        </div>
                        <!-- Consultor -->
                        <div class="col-6 col-lg-3">
                            <label for="consultor" class="form-label fs-6 fw-semibold mb-1 mt-2">Consultor:</label>
                            <input list="consultores" name="consultor" class="form-control form-control-sm rounded-2 bg-transparent text-white" required autocomplete="off">
                            <datalist id="consultores" class="text-white">
                                <option value="Diego Silva">
                                <option value="Humberto Rodrigues">
                                <option value="Leticia Bozzo">
                                <option value="Luiz Biondi">
                                <option value="Marcelo Marcondes">
                                <option value="Marilia Duarte">
                                <option value="Murilo Rodrigues">
                                <option value="Paulo Oliveira">
                                <option value="Thais Fernandes">
                                <option value="Vitor Florencio">
                            </datalist>

                        </div>
                        <!-- Consultor Guarany -->
                        <div class="col-6 col-lg-3">
                            <label for="consultorGuarany" class="form-label fs-6 fw-semibold mb-1 mt-2">Consultor Guarany:</label>
                            <input list="consultorGuarany" name="consultorGuarany" class="form-control form-control-sm rounded-2 bg-transparent text-white" required autocomplete="off">
                            <datalist id="consultorGuarany">
                                <option value="Alessandra Pires De Oliveira">
                                <option value="Amanda Gonçalves De Lima">
                                <option value="Ana Paula Oliveira Braga">
                                <option value="Andreia De Fátima Argentino">
                                <option value="Andressa Pires De Oliveira">
                                <option value="Antony Mansur De Andrade">
                                <option value="Bruno Eduardo Grazzini De Castro">
                                <option value="Cassio Augusto De Paula Barbosa">
                                <option value="Caue Geraldo Luiz">
                                <option value="Christian Laranjeira Dos Santos">
                                <option value="Claudio De Oliveira Pereira">
                                <option value="Deivid Caetano Da Silva">
                                <option value="Diego Ricardo Dos Santos">
                                <option value="Djeinnefer Moreira Otiles Balduíno">
                                <option value="Eduardo Gabriel Bontorim De Andrade">
                                <option value="Gabriel Motawh Baltieri">
                                <option value="Gabriele Ferreira Da Silva">
                                <option value="Igor Nelson Santos De Moraes">
                                <option value="Jessica Sumaia Custodio De Bonfim">
                                <option value="João Pedro De Souza Alencar Ivo">
                                <option value="Jose Heraldo Conceição Bastos Junior">
                                <option value="Jose Nelson Santos Moraes">
                                <option value="Julia Karolina Da Silva Bragaia">
                                <option value="Leticia Maria Callegaro Carrara">
                                <option value="Luana Tenorio Gomes">
                                <option value="Lucas Mauro Chamelet">
                                <option value="Luciano Silva De Assis">
                                <option value="Luigi Barros Elias">
                                <option value="Marcel Luiz De Cicco Milano">
                                <option value="Marcelo Donizete Baltieri">
                                <option value="Marcelo Drummond Fonseca">
                                <option value="Marcelo Vasconcelos Elias">
                                <option value="Matheus Reis Salgueiro Da Conceição">
                                <option value="Matheus Terra Ferreira Coutinho">
                                <option value="Meiriane Cordeiro De Jesus">
                                <option value="Mike Jhonatas Soares">
                                <option value="Patricia Carvalho Do Rosario">
                                <option value="Pedro Augusto Pires">
                                <option value="Rhayana Cristina De Andrade Rocha">
                                <option value="Rogerio Eugenio De Medeiros Pereira">
                                <option value="Samuel Correa De Tolentino">
                                <option value="Soraya Dos Santos Brito">
                                <option value="Taina Caroline Geraldo Luiz">
                                <option value="Tatiana Pallu De Oliveira">
                                <option value="Thainara Goncalves Poppi">
                                <option value="Thiago Wei Wu">
                                <option value="Tiago Melim">
                                <option value="Victor Santos Gomes">
                                <option value="Wagner Pereira Baldim">
                                <option value="Wendel Guilherme Pradal">
                                <option value="Wesley Leonardo Moura Dos Santos">
                                <option value="Yago Lovato Felipe Sebastião">
                            </datalist>
                        </div>
                        <div class="col-6 col-lg-3">
                            <label for="toGuarany" class="form-label fs-6 fw-semibold mb-1 mt-2">T.O Guarany:</label>
                            <input list="toGuarany" name="toGuarany" class="form-control form-control-sm rounded-2 bg-transparent text-white" required autocomplete="off">
                            <datalist id="toGuarany">
                                <option value="Alessandra Pires De Oliveira">
                                <option value="Claudio De Oliveira Pereira">
                                <option value="João Pedro De Souza Alencar Ivo">
                                <option value="Luciano Silva De Assis">
                                <option value="Marcel Luiz De Cicco Milano">
                                <option value="Marcelo Donizete Baltieri">
                                <option value="Marcelo Drummond">
                                <option value="Rhayana Cristina De Andrade Rocha">
                                <option value="Samuel Correa De Tolentino">
                                <option value="Thiago Wei Wu">
                                <option value="Tiago Melim">
                            </datalist>
                        </div>
                        <!-- Observação -->
                        <div class="col-6 col-lg-3">
                            <label for="observacao" class="form-label fs-6 fw-semibold mb-1 mt-2">Observação:</label>
                            <input type="text" id="observacao" name="observacao" class="form-control form-control-sm rounded-2 bg-transparent text-white " autocomplete="off">
                        </div>
                    </div>
                    <!-- Botões de ação -->
                    <div class="col-6">
                        <button type="submit" class="btn btn-success mt-3 fw-semibold">Finalizar</button>
                        <a href="/ficha/<%= atendimento.id %>" class="btn btn-danger mt-3 fw-semibold ms-1">Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
        <!-- Link para voltar aos agendamentos -->
        <a href="/agendamentos" class="nav-link text-white fs-6 link-agendamentos ff-sora fw-light">
           <i class="bi bi-list fs-6"></i> Agendamentos
        </a>
    </div>

    <!-- Toast de sucesso -->
    <div class="position-fixed top-0 end-0 p-3" style="z-index: 9999">
    <div id="toastConfirmacao" class="toast align-items-center text-bg-success border-0" role="alert">
        <div class="d-flex">
        <div class="toast-body">
            Atendimento finalizado com sucesso!
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
        </div>
    </div>
    <script>
        // > Exibir toast antes de salvar form de finalização
        // > Exibir toast antes de salvar form de finalização
        // > Exibir toast antes de salvar form de finalização
        // > Exibir toast antes de salvar form de finalização
        // > Exibir toast antes de salvar form de finalização
        // > Exibir toast antes de salvar form de finalização
    </script>
</body>

</html>